(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{284:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),s=a.n(c),o=a(19),i=a(24),u=a(16),l=a(179),d=a(360),j=a(123),b=a(330),h=a(332),p=a(55),O=a(333),m=a(334),f=a(11),g=a.n(f),x=a(22),v=a(21),y=a.n(v),S="REGISTER_SUCCESS",C="REGISTER_FAIL",w="ACTIVATE_SUCCESS",E="ACTIVATE_FAIL",_="RESEND_ACTIVATION_EMAIL_SUCCESS",P="RESEND_ACTIVATION_EMAIL_FAIL",T="LOAD_USER_SUCCESS",L="LOAD_USER_FAIL",A="CHECK_AUTHENTICATION_SUCCESS",k="CHECK_AUTHENTICATION_FAIL",N="LOGIN_SUCCESS",I="LOGIN_FAIL",R="LOGOUT",U="DELETE_ACCOUNT_SUCCESS",D="DELETE_ACCOUNT_FAIL",M="RESET_PASSWORD_SUCCESS",W="RESET_PASSWORD_FAIL",F="RESET_PASSWORD_CONFIRM_SUCCESS",q="RESET_PASSWORD_CONFIRM_FAIL",B="CHANGE_PASSWORD_SUCCESS",H="CHANGE_PASSWORD_FAIL",G="AUTH_LOADING",Q="RESET_AUTH_LOADING",J="PROFILE_LOADING",z="RESET_AUTH_ERROR_MSG",Y="RESET_CHANGE_PASSWORD_SUCCESS",V="RESET_EDIT_BIO_SUCCESS",K="CHANGE_PROFILE_PIC_SUCCESS",X="CHANGE_PROFILE_PIC_FAIL",Z="EDIT_BIO_SUCCESS",$="EDIT_BIO_FAIL",ee="SET_PREV_PATH",te=a(165),ae=a.n(te);y.a.defaults.xsrfCookieName="csrftoken",y.a.defaults.xsrfHeaderName="X-CSRFToken";var ne="Incorrect password",re="Unable to reset passowrd",ce="New password too weak",se=function(){return function(){var e=Object(x.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(Te()),!(a=localStorage.getItem("access"))){e.next=16;break}return n={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(a),Accept:"application/json"}},e.prev=4,e.next=7,y.a.get("/auth/users/me/",n);case 7:r=e.sent,t(he(r.data)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t(pe());case 14:e.next=17;break;case 16:t(pe());case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},oe=function(){return function(){var e=Object(x.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("access"))){e.next=16;break}return n={headers:{"Content-Type":"application/json",Accept:"application/json"}},r=JSON.stringify({token:a}),e.prev=4,e.next=7,y.a.post("/auth/jwt/verify/",r,n);case 7:"token_not_valid"!==e.sent.data.code?(t(Oe()),t(se())):t(me()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t(me());case 14:e.next=17;break;case 16:t(me());case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},ie=function(){return{type:S}},ue=function(e){return{type:C,payload:e}},le=function(){return{type:w}},de=function(e){return{type:E,payload:e}},je=function(){return{type:_}},be=function(e){return{type:P,payload:e}},he=function(e){return{type:T,payload:e}},pe=function(){return{type:L}},Oe=function(){return{type:A}},me=function(){return{type:k}},fe=function(e){return{type:N,payload:e}},ge=function(e){return{type:I,payload:e}},xe=function(){return{type:R}},ve=function(){return{type:U}},ye=function(e){return{type:D,payload:e}},Se=function(){return{type:M}},Ce=function(e){return{type:W,payload:e}},we=function(){return{type:F}},Ee=function(e){return{type:q,payload:e}},_e=function(){return{type:B}},Pe=function(e){return{type:H,payload:e}},Te=function(){return{type:G}},Le=function(){return{type:J}},Ae=function(e){return{type:K,payload:e}},ke=function(e){return{type:X,payload:e}},Ne=function(){return{type:Z}},Ie=function(e){return{type:$,payload:e}},Re=a(1),Ue={activate:function(e,t){return function(){var a=Object(x.a)(g.a.mark((function a(n){var r,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Te()),r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({uid:e,token:t}),a.prev=3,a.next=6,y.a.post("/auth/users/activation/",c,r);case 6:n(le()),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(3),a.t0.response.data.uid||a.t0.response.data.token?n(de("Expired activation token")):n(de("Unable to activate account"));case 12:case"end":return a.stop()}}),a,null,[[3,9]])})));return function(e){return a.apply(this,arguments)}}()}},De=Object(u.b)((function(e){return{authLoading:e.auth.authLoading,activationSuccess:e.auth.activationSuccess}}),Ue)((function(e){var t=e.authLoading,a=e.activationSuccess,n=e.activate,r=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},button:{margin:e.spacing(3,0,2)}}}))(),c=Object(i.g)(),s=Object(i.i)(),u=s.uid,l=s.token;return Object(Re.jsx)(h.a,{maxWidth:"xs",children:Object(Re.jsx)("div",{className:r.paper,children:a?Object(Re.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c.push("/login")},children:[Object(Re.jsx)(p.a,{variant:"h6",noWrap:!0,style:{textAlign:"center"},children:"You have successfully activated your account."}),Object(Re.jsx)(O.a,{autoFocus:!0,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:r.button,children:"Proceed to Login"})]}):Object(Re.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(u,l)},children:[Object(Re.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:r.button,disabled:t,autoFocus:!0,children:"Activate"}),Object(Re.jsx)(m.a,{container:!0,justify:"flex-end",children:Object(Re.jsx)(m.a,{item:!0,children:Object(Re.jsx)(o.c,{to:"/resend-activation-email",variant:"body2",children:"Resend activation email"})})})]})})})})),Me=function(){return Object(Re.jsx)("div",{children:"User Dashboard"})},We=function(){return Object(Re.jsx)("div",{children:"Website Homepage"})},Fe=a(369),qe=a(337),Be=a(113),He=a.n(Be),Ge="GET_POST_LIST_SUCCESS",Qe="GET_POST_LIST_FAIL",Je="GET_POST_DETAIL_SUCCESS",ze="GET_POST_DETAIL_FAIL",Ye="GET_USER_POST_SUCCESS",Ve="GET_USER_POST_FAIL",Ke="CREATE_POST_SUCCESS",Xe="CREATE_POST_FAIL",Ze="EDIT_POST_SUCCESS",$e="EDIT_POST_FAIL",et="DELETE_POST_SUCCESS",tt="DELETE_POST_FAIL",at="POST_LOADING",nt="RESET_POST_LOADING",rt="RESET_POST_ERROR_MSG",ct="RESET_CREATE_POST_SUCCESS",st="RESET_EDIT_POST_SUCCESS",ot="RESET_DELETE_POST_SUCCESS",it="SEARCH_POST_SUCCESS",ut="SEARCH_POST_FAIL",lt="CANCEL_SEARCH_SUCCESS",dt="CANCEL_SEARCH_FAIL";y.a.defaults.xsrfCookieName="csrftoken",y.a.defaults.xsrfHeaderName="X-CSRFToken";var jt=function(e){return function(){var t=Object(x.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Pt()),n={headers:{"Content-Type":"application/json"}},t.prev=2,t.next=5,y.a.get("/form/post-list/?form_type=".concat(e),n);case 5:r=t.sent,a(Ot(e,r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a(mt("Unable to load posts"));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},bt=function(e){return function(){var t=Object(x.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Pt()),n={headers:{"Content-Type":"application/json"}},t.prev=2,t.next=5,y.a.get("/form/post-list/".concat(e,"/"),n);case 5:r=t.sent,a(ft(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a(gt("Unable to load post"));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},ht=function(e){return function(){var t=Object(x.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Pt()),n={headers:{"Content-Type":"application/json"}},t.prev=2,t.next=5,y.a.get("/form/post-list/?owner=".concat(e),n);case 5:r=t.sent,a(xt(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a(vt("Unable to load user post"));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},pt=function(e,t,a,n,r,c){return function(){var s=Object(x.a)(g.a.mark((function s(o){var i,u,l;return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:o(Pt()),i=localStorage.getItem("access"),u={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(i)}},l=JSON.stringify({post_form_type:t,selected_choices:a,owner:n,score_list:r,total_score:c});try{y.a.put("/form/post-list/".concat(e,"/"),l,u),o(Ct())}catch(d){o(wt("Unable to edit post"))}case 5:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},Ot=function(e,t){return{type:Ge,payload:{formType:e,posts:t}}},mt=function(e){return{type:Qe,payload:e}},ft=function(e){return{type:Je,payload:e}},gt=function(e){return{type:ze,payload:e}},xt=function(e){return{type:Ye,payload:e}},vt=function(e){return{type:Ve,payload:e}},yt=function(){return{type:Ke}},St=function(e){return{type:Xe,payload:e}},Ct=function(){return{type:Ze}},wt=function(e){return{type:$e,payload:e}},Et=function(){return{type:et}},_t=function(e){return{type:tt,payload:e}},Pt=function(){return{type:at}},Tt=function(){return{type:st}},Lt=function(e){return{type:it,payload:e}},At=function(e){return{type:ut,payload:e}},kt=function(){return{type:lt}},Nt=function(e){return{type:dt,payload:e}},It={getPostList:jt,getUserPost:ht},Rt=Object(u.b)((function(e){return{user:e.auth.user,userPost:e.post.userPost,posts:e.post.posts,postsType:e.post.postsType,postLoading:e.post.postLoading,searchedPost:e.post.searchedPost}}),It)((function(e){var t=e.user,a=e.userPost,r=e.postType,c=e.handlePost,s=e.PostComponent,o=e.xs,i=e.md,u=e.lg,l=e.posts,d=e.postsType,j=e.getUserPost,O=e.postLoading,f=e.getPostList,g=e.searchedPost,x=Object(b.a)((function(e){return{tooltip:{position:"fixed",bottom:e.spacing(2),right:e.spacing(3)},grid:{display:"flex",flexDirection:"column"}}}))();Object(n.useEffect)((function(){f(r)}),[]),Object(n.useEffect)((function(){return t?j(t.id):null}),[t]);var v=g||l;return Object(Re.jsxs)("div",{children:[r===d&&0!==v.length?Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsx)(h.a,{children:Object(Re.jsx)(m.a,{container:!0,spacing:2,children:v.map((function(e){return Object(Re.jsx)(m.a,{item:!0,xs:o,md:i,lg:u,className:x.grid,children:Object(Re.jsx)(s,{post:e})},e.id)}))})})}):Object(Re.jsx)(Re.Fragment,{children:!O&&Object(Re.jsx)("div",{style:{textAlign:"center"},children:Object(Re.jsx)(p.a,{variant:"subtitle1",children:"No post."})})}),t&&0===(null===a||void 0===a?void 0:a.length)&&Object(Re.jsx)(Fe.a,{title:"",onClick:c,children:Object(Re.jsx)(qe.a,{color:"primary",className:x.tooltip,children:Object(Re.jsx)(He.a,{})})})]})})),Ut=a(338),Dt=a(339),Mt=a(340),Wt=a(341),Ft=a(114),qt=a(115),Bt=a.n(qt),Ht=a.p+"static/media/housing.e1a767d3.jpg",Gt=function(e){var t=e.post,a=Object(b.a)((function(e){return{card:{display:"flex",height:200,cursor:"pointer"},content:{flex:"1 0 auto"},media:{width:400},tooltip:{float:"right",marginRight:5,marginTop:5}}}))(),r=Object(i.g)();return Object(Re.jsxs)(Ut.a,{className:a.card,children:[Object(Re.jsx)(Dt.a,{children:Object(Re.jsxs)(Mt.a,{className:a.content,children:[Object(Re.jsx)(p.a,{variant:"h5",children:t.name}),Object(Re.jsx)(p.a,{variant:"body2",color:"textSecondary",children:t.specs.map((function(e,t){return 0===t?Object(Re.jsxs)(n.Fragment,{children:[e," "]},e):Object(Re.jsxs)(n.Fragment,{children:["\xb7 ",e," "]},e)}))})]})}),Object(Re.jsx)(Wt.a,{className:a.media,image:Ht,title:t.name,children:Object(Re.jsx)(Fe.a,{title:"",className:a.tooltip,onClick:function(){r.push("/housing-form")},children:Object(Re.jsx)(Ft.a,{style:{color:"black"},children:Object(Re.jsx)(Bt.a,{})})})})]})},Qt="SingleChoice",Jt="MultipleChoice",zt="Priority",Yt="Self",Vt="Other",Kt=function(){var e=Object(i.g)();return Object(Re.jsx)("div",{children:Object(Re.jsx)(Rt,{postType:2,handlePost:function(){e.push("/housing-form")},PostComponent:Gt,xs:12,md:12,lg:12,Posts:[{id:1,pic:"housing.jpg",name:"Atas Residence",specs:["6 guests","2 bedrooms","5 beds","2 baths","Air conditioning","Free parking","Wifi","Pool"]},{id:2,pic:"housing.jpg",name:"Atas Residence",specs:["6 guests","2 bedrooms","5 beds","2 baths","Air conditioning","Free parking","Wifi","Pool"]},{id:3,pic:"housing.jpg",name:"Atas Residence",specs:["6 guests","2 bedrooms","5 beds","2 baths","Air conditioning","Free parking","Wifi","Pool"]},{id:4,pic:"housing.jpg",name:"Atas Residence",specs:["6 guests","2 bedrooms","5 beds","2 baths","Air conditioning","Free parking","Wifi","Pool"]}]})})},Xt=a(10),Zt=a(342),$t=a(292),ea=a(293),ta=a(299),aa=a(344),na=a(295),ra={login:function(e,t){return function(){var a=Object(x.a)(g.a.mark((function a(n){var r,c,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Te()),r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e,password:t}),a.prev=3,a.next=6,y.a.post("/auth/jwt/create/",c,r);case 6:s=a.sent,n(fe(s.data)),n(oe()),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),n(ge(ne));case 14:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e){return a.apply(this,arguments)}}()}},ca=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,authLoading:e.auth.authLoading}}),ra)((function(e){var t=e.isAuthenticated,a=e.authLoading,r=e.login,c=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},submit:{margin:e.spacing(3,0,2)}}}))(),s=Object(n.useState)(""),u=Object(Xt.a)(s,2),l=u[0],d=u[1],j=Object(n.useState)(""),p=Object(Xt.a)(j,2),f=p[0],g=p[1],x=Object(n.useState)("tenant"),v=Object(Xt.a)(x,2),y=v[0],S=v[1],C=Object(n.useState)(!1),w=Object(Xt.a)(C,2),E=w[0],_=w[1],P=Object(n.useState)(!1),T=Object(Xt.a)(P,2),L=T[0],A=T[1],k=Object(n.useState)(!1),N=Object(Xt.a)(k,2),I=N[0],R=N[1];return t?Object(Re.jsx)(i.a,{to:"/profile"}):Object(Re.jsx)(h.a,{maxWidth:"xs",children:Object(Re.jsx)("div",{className:c.paper,children:Object(Re.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),_(!1),A(!1),R(!1),""===l&&_(!0),""===f&&A(!0),""===y&&R(!0),l&&f&&y&&r(l,f)},children:[Object(Re.jsx)(Zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email",name:"email",autoFocus:!0,onChange:function(e){d(e.target.value),""===e.target.value?_(!0):_(!1)},error:E,helperText:E?"This is a required field":""}),Object(Re.jsx)(Zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",onChange:function(e){g(e.target.value),""===e.target.value?A(!0):A(!1)},error:L,helperText:L?"This is a required field":""}),Object(Re.jsxs)($t.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:I,children:[Object(Re.jsx)(ea.a,{children:"Account"}),Object(Re.jsxs)(ta.a,{value:y,onChange:function(e){S(e.target.value),""===e.target.value?R(!0):R(!1)},label:"Account",children:[Object(Re.jsx)(aa.a,{value:"tenant",children:"Tenant"}),Object(Re.jsx)(aa.a,{value:"host",children:"Host"})]}),Object(Re.jsx)(na.a,{children:I?"This is a required field":""})]}),Object(Re.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,disabled:a,children:"Login"}),Object(Re.jsxs)(m.a,{container:!0,children:[Object(Re.jsx)(m.a,{item:!0,xs:!0,children:Object(Re.jsx)(o.c,{to:"/reset-password",variant:"body2",children:"Forgot password?"})}),Object(Re.jsx)(m.a,{item:!0,children:Object(Re.jsx)(o.c,{to:"/register",variant:"body2",children:"Don't have an account? Register now!"})})]})]})})})})),sa=a(296),oa=a(345),ia=a(370),ua=a(371),la=a(367),da=a(352),ja=a(353),ba=a(343),ha=a(169),pa=a.n(ha),Oa=a(168),ma=a.n(Oa),fa=a(346),ga=a(347),xa=a(350),va=a(349),ya=a(348),Sa={changeProfilePic:function(e){return function(){var t=Object(x.a)(g.a.mark((function t(a){var n,r,c,s,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Le()),n=localStorage.getItem("access"),r={bucketName:"housematesorbital",dirName:"images",region:"us-east-2",accessKeyId:"AKIA2VQMUMOWCECPYUOU",secretAccessKey:"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"},c={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(n)}};try{ae.a.uploadFile(e,r).then((function(e){o=e.location,s=JSON.stringify({profile_pic:o})})).then(Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.patch("/auth/users/me/",s,c);case 2:a(Ae(o));case 3:case"end":return e.stop()}}),e)}))))}catch(i){a(ke("Unable to change profile pic"))}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},editBio:function(e,t,a){return function(){var n=Object(x.a)(g.a.mark((function n(r){var c,s,o;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Le()),c=localStorage.getItem("access"),s={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(c)}},o=JSON.stringify({first_name:e,last_name:t,bio:a}),n.prev=4,n.next=7,y.a.put("/auth/users/me/",o,s);case 7:r(Ne()),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(4),n.t0.response.data.bio?r(Ie("Bio cannot be empty")):r(Ie("Unable to edit bio"));case 13:case"end":return n.stop()}}),n,null,[[4,10]])})));return function(e){return n.apply(this,arguments)}}()},resetEditBioSuccess:function(){return{type:V}},loadUser:se},Ca=Object(u.b)((function(e){return{user:e.auth.user,editBioSuccess:e.auth.editBioSuccess,prevPath:e.auth.prevPath}}),Sa)((function(e){var t=e.user,a=e.changeProfilePic,r=e.editBio,c=e.loadUser,s=e.editBioSuccess,u=e.resetEditBioSuccess,l=(e.prevPath,Object(b.a)((function(e){return{avatar:{height:200,width:200,marginBottom:20},content:{display:"flex",flexDirection:"column",alignItems:"center"},card:{width:"100%",marginLeft:23,marginRight:23}}}))()),d=Object(i.g)(),j=Object(n.useState)(!1),h=Object(Xt.a)(j,2),f=h[0],g=h[1],x=Object(n.useState)(null),v=Object(Xt.a)(x,2),y=v[0],S=v[1],C=Object(n.useState)(!1),w=Object(Xt.a)(C,2),E=w[0],_=w[1],P=Object(n.useState)(""),T=Object(Xt.a)(P,2),L=T[0],A=T[1],k=function(){g(!1)},N=[{summary:"Profile",details:[Object(Re.jsx)(sa.a,{button:!0,onClick:function(){d.push("/change-password")},style:{width:"100%"},children:Object(Re.jsx)(oa.a,{primary:"Change password"})}),Object(Re.jsx)(sa.a,{button:!0,onClick:function(){d.push("/delete-account")},style:{width:"100%"},children:Object(Re.jsx)(oa.a,{primary:"Delete account"})})]}];return Object(n.useEffect)((function(){c(),u()}),[s]),Object(Re.jsx)("div",{className:l.card,children:t&&Object(Re.jsx)(Ut.a,{children:Object(Re.jsxs)(Mt.a,{className:l.content,children:[Object(Re.jsx)(fa.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:Object(Re.jsx)(Ft.a,{onClick:function(){g(!0)},children:Object(Re.jsx)(ma.a,{})}),children:Object(Re.jsx)(ia.a,{className:l.avatar,src:t.profile_pic})}),Object(Re.jsxs)(ga.a,{open:f,onClose:k,"aria-labelledby":"form-dialog-title",children:[Object(Re.jsx)(ya.a,{id:"form-dialog-title",children:"Edit Profile Picture"}),Object(Re.jsx)(va.a,{children:Object(Re.jsx)(O.a,{variant:"contained",component:"label",children:Object(Re.jsx)("input",{type:"file",id:"image",accept:"image/png, image/jpeg",onChange:function(e){var t=e.target;S(t.files[0])}})})}),Object(Re.jsxs)(xa.a,{children:[Object(Re.jsx)(O.a,{onClick:k,color:"primary",children:"Cancel"}),Object(Re.jsx)(O.a,{onClick:function(){return a(y),void g(!1)},color:"primary",children:"Save"})]})]}),Object(Re.jsxs)(p.a,{variant:"h5",style:{marginBottom:10},children:[t.first_name," ",t.last_name]}),Object(Re.jsx)(ua.a,{mb:3,children:E?Object(Re.jsx)("form",{onSubmit:function(e){e.preventDefault(),r(t.first_name,t.last_name,L),_(!1)},children:Object(Re.jsxs)(m.a,{container:!0,children:[Object(Re.jsx)(m.a,{item:!0,xs:12,children:Object(Re.jsx)(Zt.a,{variant:"outlined",placeholder:"Describe yourself...",defaultValue:t.bio,fullWidth:!0,multiline:!0,rows:3,onChange:function(e){A(e.target.value)}})}),Object(Re.jsxs)(m.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:[Object(Re.jsx)(O.a,{size:"small",onClick:function(){_(!1)},style:{marginRight:8},children:"Cancel"}),Object(Re.jsx)(O.a,{type:"submit",variant:"contained",color:"primary",size:"small",children:"Save"})]})]})}):t.bio?Object(Re.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(Re.jsx)(p.a,{variant:"body1",color:"textSecondary",children:t.bio}),Object(Re.jsx)(o.b,{variant:"body2",onClick:function(){_(!0)},children:"Edit"})]}):Object(Re.jsx)(o.b,{variant:"body2",onClick:function(){_(!0)},children:"Add bio..."})}),Object(Re.jsx)("div",{style:{width:"100%"},children:N.map((function(e){return Object(Re.jsxs)(la.a,{children:[Object(Re.jsx)(da.a,{expandIcon:Object(Re.jsx)(pa.a,{}),children:Object(Re.jsx)(p.a,{children:e.summary})}),Object(Re.jsx)(ja.a,{children:Object(Re.jsx)(ba.a,{style:{width:"100%"},children:e.details.map((function(e){return e}))})})]},e)}))})]})})})})),wa={register:function(e,t,a,n,r){return function(){var c=Object(x.a)(g.a.mark((function c(s){var o,i;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s(Te()),o={headers:{"Content-Type":"application/json"}},i=JSON.stringify({first_name:e,last_name:t,email:a,password:n,re_password:r}),c.prev=3,c.next=6,y.a.post("/auth/users/",i,o);case 6:s(ie()),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(3),c.t0.response.data.password?s(ue("Password too weak")):c.t0.response.data.email?s(ue("User already exists")):s(ue("Unable to register"));case 12:case"end":return c.stop()}}),c,null,[[3,9]])})));return function(e){return c.apply(this,arguments)}}()}},Ea=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,authLoading:e.auth.authLoading,registrationSuccess:e.auth.registrationSuccess}}),wa)((function(e){var t=e.isAuthenticated,a=e.authLoading,r=e.registrationSuccess,c=e.register,s=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},submit:{margin:e.spacing(3,0,2)}}}))(),u=Object(n.useState)(""),l=Object(Xt.a)(u,2),d=l[0],j=l[1],f=Object(n.useState)(""),g=Object(Xt.a)(f,2),x=g[0],v=g[1],y=Object(n.useState)(""),S=Object(Xt.a)(y,2),C=S[0],w=S[1],E=Object(n.useState)(""),_=Object(Xt.a)(E,2),P=_[0],T=_[1],L=Object(n.useState)(""),A=Object(Xt.a)(L,2),k=A[0],N=A[1],I=Object(n.useState)("tenant"),R=Object(Xt.a)(I,2),U=R[0],D=R[1],M=Object(n.useState)(!1),W=Object(Xt.a)(M,2),F=W[0],q=W[1],B=Object(n.useState)(!1),H=Object(Xt.a)(B,2),G=H[0],Q=H[1],J=Object(n.useState)(!1),z=Object(Xt.a)(J,2),Y=z[0],V=z[1],K=Object(n.useState)(!1),X=Object(Xt.a)(K,2),Z=X[0],$=X[1],ee=Object(n.useState)(!1),te=Object(Xt.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ce=Object(Xt.a)(re,2),se=ce[0],oe=ce[1],ie=Object(n.useState)(!1),ue=Object(Xt.a)(ie,2),le=ue[0],de=ue[1];return t?Object(Re.jsx)(i.a,{to:"/"}):Object(Re.jsx)(h.a,{maxWidth:"xs",children:Object(Re.jsx)("div",{className:s.paper,children:r?Object(Re.jsxs)("div",{children:[Object(Re.jsx)(p.a,{variant:"h6",noWrap:!0,style:{textAlign:"center"},children:"Thank you for your registration."}),Object(Re.jsx)(p.a,{variant:"h6",noWrap:!0,style:{textAlign:"center"},children:"Kindly check your email for account verification to complete the registration process."}),Object(Re.jsx)(p.a,{variant:"h6",noWrap:!0,style:{textAlign:"center"},children:"You may close this window."})]}):Object(Re.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),Q(!1),q(!1),V(!1),$(!1),ne(!1),oe(!1),de(!1),""===x&&Q(!0),""===d&&q(!0),""===C&&V(!0),""===P&&$(!0),""===k&&ne(!0),k!==P&&oe(!0),""===U&&de(!0),x&&d&&C&&P&&k&&!se&&U&&c(x,d,C,P,k)},children:[Object(Re.jsxs)(m.a,{container:!0,spacing:2,children:[Object(Re.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(Zt.a,{variant:"outlined",required:!0,fullWidth:!0,label:"First Name",name:"firstName",margin:"normal",autoFocus:!0,onChange:function(e){v(e.target.value),""===e.target.value?Q(!0):Q(!1)},error:G,helperText:G?"This is a required field":""})}),Object(Re.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(Zt.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Last Name",name:"lastName",margin:"normal",onChange:function(e){j(e.target.value),""===e.target.value?q(!0):q(!1)},error:F,helperText:F?"This is a required field":""})})]}),Object(Re.jsx)(Zt.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Email Address",name:"email",type:"email",margin:"normal",onChange:function(e){w(e.target.value),""===e.target.value?V(!0):V(!1)},error:Y,helperText:Y?"This is a required field":""}),Object(Re.jsx)(Zt.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",margin:"normal",onChange:function(e){T(e.target.value),""===e.target.value?($(!0),oe(!1)):k&&e.target.value!==k?(oe(!0),$(!1)):($(!1),oe(!1))},error:Z,helperText:Z?"This is a required field":"Minimum 8 characters with a mixture of lower and upper case letters, numbers and symbols"}),Object(Re.jsx)(Zt.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",margin:"normal",onChange:function(e){N(e.target.value),""===e.target.value?(ne(!0),oe(!1)):e.target.value!==P?(oe(!0),ne(!1)):(ne(!1),oe(!1))},error:ae||se,helperText:ae?"This is a required field":se?"Password does not match":""}),Object(Re.jsxs)($t.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:le,children:[Object(Re.jsx)(ea.a,{children:"Account"}),Object(Re.jsxs)(ta.a,{value:U,onChange:function(e){D(e.target.value),""===e.target.value?de(!0):de(!1)},label:"Account",children:[Object(Re.jsx)(aa.a,{value:"tenant",children:"Tenant"}),Object(Re.jsx)(aa.a,{value:"host",children:"Host"})]}),Object(Re.jsx)(na.a,{children:le?"This is a required field":""})]}),Object(Re.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit,disabled:a,children:"Register"}),Object(Re.jsx)(m.a,{container:!0,justify:"flex-end",children:Object(Re.jsx)(m.a,{item:!0,children:Object(Re.jsx)(o.c,{to:"/login",variant:"body2",children:"Already have an account? Login"})})})]})})})})),_a={changePassword:function(e,t,a){return function(){var n=Object(x.a)(g.a.mark((function n(r){var c,s,o;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Te()),c=localStorage.getItem("access"),s={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(c)}},o=JSON.stringify({current_password:e,new_password:t,re_new_password:a}),n.prev=4,n.next=7,y.a.post("/auth/users/set_password/",o,s);case 7:r(_e()),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(4),n.t0.response.data.current_password?r(Pe("Incorrect current password")):n.t0.response.data.new_password?r(Pe(ce)):r(Pe("Unable to change password"));case 13:case"end":return n.stop()}}),n,null,[[4,10]])})));return function(e){return n.apply(this,arguments)}}()},resetChangePasswordSuccess:function(){return function(e){return e({type:Y})}}},Pa=Object(u.b)((function(e){return{authLoading:e.auth.authLoading,changePasswordSuccess:e.auth.changePasswordSuccess}}),_a)((function(e){var t=e.authLoading,a=e.changePasswordSuccess,r=e.changePassword,c=e.resetChangePasswordSuccess,s=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},submit:{margin:e.spacing(3,0,2)}}}))(),o=Object(i.g)(),u=Object(n.useState)(""),l=Object(Xt.a)(u,2),d=l[0],j=l[1],m=Object(n.useState)(""),f=Object(Xt.a)(m,2),g=f[0],x=f[1],v=Object(n.useState)(""),y=Object(Xt.a)(v,2),S=y[0],C=y[1],w=Object(n.useState)(!1),E=Object(Xt.a)(w,2),_=E[0],P=E[1],T=Object(n.useState)(!1),L=Object(Xt.a)(T,2),A=L[0],k=L[1],N=Object(n.useState)(!1),I=Object(Xt.a)(N,2),R=I[0],U=I[1],D=Object(n.useState)(!1),M=Object(Xt.a)(D,2),W=M[0],F=M[1];return Object(Re.jsx)(h.a,{maxWidth:"xs",children:Object(Re.jsx)("div",{className:s.paper,children:a?Object(Re.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o.go(-1),c()},children:[Object(Re.jsx)(p.a,{variant:"h6",noWrap:!0,style:{textAlign:"center"},children:"You have successfully changed your password."}),Object(Re.jsx)(O.a,{autoFocus:!0,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.button,children:"Back to Profile"})]}):Object(Re.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),P(!1),k(!1),U(!1),F(!1),""===d&&P(!0),""===g&&k(!0),""===S&&U(!0),S!==g&&F(!0),d&&g&&S&&!W&&r(d,g,S)},children:[Object(Re.jsx)(Zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Current Password",name:"currentPassword",type:"password",autoFocus:!0,onChange:function(e){j(e.target.value),""===e.target.value?P(!0):P(!1)},error:_,helperText:_?"This is a required field":""}),Object(Re.jsx)(Zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"New Password",name:"newPassword",type:"password",onChange:function(e){x(e.target.value),""===e.target.value?(k(!0),F(!1)):S&&e.target.value!==S?(F(!0),k(!1)):(k(!1),F(!1))},error:A,helperText:A?"This is a required field":"Minimum 8 characters with a mixture of lower and upper case letters, numbers and symbols"}),Object(Re.jsx)(Zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Confim New Password",name:"confirmNewPassword",type:"password",onChange:function(e){C(e.target.value),""===e.target.value?(U(!0),F(!1)):e.target.value!==g?(F(!0),U(!1)):(U(!1),F(!1))},error:R||W,helperText:R?"This is a required field":W?"Password does not match":""}),Object(Re.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit,disabled:t,children:"Change Password"})]})})})})),Ta={deleteAccount:function(e){return function(){var t=Object(x.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Te()),n=localStorage.getItem("access"),r=JSON.stringify({current_password:e}),t.prev=3,t.next=6,y.a.delete("/auth/users/me/",{data:r,headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(n)}});case 6:a(xe()),a(ve()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),t.t0.response.data.current_password?a(ye(ne)):a(ye("Unable to delete account"));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}},La=Object(u.b)((function(e){return{authLoading:e.auth.authLoading,deleteAccountSuccess:e.auth.deleteAccountSuccess}}),Ta)((function(e){var t=e.authLoading,a=e.deleteAccountSuccess,r=e.deleteAccount,c=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},buttons:{margin:e.spacing(3,0,2)}}}))(),s=Object(i.g)(),o=Object(n.useState)(""),u=Object(Xt.a)(o,2),l=u[0],d=u[1],j=Object(n.useState)(!1),f=Object(Xt.a)(j,2),g=f[0],x=f[1];return Object(Re.jsx)(h.a,{maxWidth:"xs",children:Object(Re.jsx)("div",{className:c.paper,children:a?Object(Re.jsxs)("div",{children:[Object(Re.jsx)(p.a,{variant:"h6",noWrap:!0,style:{textAlign:"center"},children:"You have successfully deleted your account."}),Object(Re.jsx)(p.a,{variant:"h6",noWrap:!0,style:{textAlign:"center"},children:"You may close this window."})]}):Object(Re.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),x(!1),""===l&&x(!0),l&&r(l)},children:[Object(Re.jsx)(Zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",name:"password",type:"password",autoFocus:!0,onChange:function(e){d(e.target.value),""===e.target.value?x(!0):x(!1)},error:g,helperText:g?"This is a required field":""}),Object(Re.jsxs)(m.a,{container:!0,spacing:2,className:c.buttons,children:[Object(Re.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(O.a,{fullWidth:!0,onClick:function(){return s.go(-1)},children:"Cancel"})}),Object(Re.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:t,children:"Delete"})})]})]})})})})),Aa={resendActivationEmail:function(e){return function(){var t=Object(x.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Te()),n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e}),t.prev=3,t.next=6,y.a.post("/auth/users/resend_activation/",r,n);case 6:a(je()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),a(be("User does not exists or user has already successfully activated account"));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()}},ka=Object(u.b)((function(e){return{authLoading:e.auth.authLoading,resendActivationEmailSuccess:e.auth.resendActivationEmailSuccess}}),Aa)((function(e){var t=e.authLoading,a=e.resendActivationEmailSuccess,r=e.resendActivationEmail,c=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},buttons:{margin:e.spacing(3,0,2)}}}))(),s=Object(i.g)(),o=Object(n.useState)(""),u=Object(Xt.a)(o,2),l=u[0],d=u[1],j=Object(n.useState)(!1),f=Object(Xt.a)(j,2),g=f[0],x=f[1];return Object(Re.jsx)(h.a,{maxWidth:"xs",children:Object(Re.jsx)("div",{className:c.paper,children:a?Object(Re.jsxs)("div",{children:[Object(Re.jsx)(p.a,{variant:"h6",noWrap:!0,style:{textAlign:"center"},children:"Kindly check your email for the activation email."}),Object(Re.jsx)(p.a,{variant:"h6",noWrap:!0,style:{textAlign:"center"},children:"You may close this window."})]}):Object(Re.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),x(!1),""===l&&x(!0),l&&r(l)},children:[Object(Re.jsx)(Zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email",name:"email",autoFocus:!0,onChange:function(e){d(e.target.value),""===e.target.value?x(!0):x(!1)},error:g,helperText:g?"This is a required field":""}),Object(Re.jsxs)(m.a,{container:!0,spacing:2,className:c.buttons,children:[Object(Re.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(O.a,{type:"button",fullWidth:!0,onClick:function(){return s.go(-1)},children:"Cancel"})}),Object(Re.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:t,children:"Submit"})})]})]})})})})),Na={resetPassword:function(e){return function(){var t=Object(x.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Te()),n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e}),t.prev=3,t.next=6,y.a.post("/auth/users/reset_password/",r,n);case 6:a(Se()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),t.t0.response.data?a(Ce("User does not exist")):a(Ce(re));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()}},Ia=Object(u.b)((function(e){return{authLoading:e.auth.authLoading,resetPasswordSuccess:e.auth.resetPasswordSuccess}}),Na)((function(e){var t=e.authLoading,a=e.resetPasswordSuccess,r=e.resetPassword,c=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},buttons:{margin:e.spacing(3,0,2)}}}))(),s=Object(i.g)(),o=Object(n.useState)(""),u=Object(Xt.a)(o,2),l=u[0],d=u[1],j=Object(n.useState)(!1),f=Object(Xt.a)(j,2),g=f[0],x=f[1];return Object(Re.jsx)(h.a,{maxWidth:"xs",children:Object(Re.jsx)("div",{className:c.paper,children:a?Object(Re.jsxs)("div",{children:[Object(Re.jsx)(p.a,{variant:"h6",noWrap:!0,style:{textAlign:"center"},children:"Kindly check your email to reset your password."}),Object(Re.jsx)(p.a,{variant:"h6",noWrap:!0,style:{textAlign:"center"},children:"You may close this window."})]}):Object(Re.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),x(!1),""===l&&x(!0),l&&r(l)},children:[Object(Re.jsx)(Zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email",name:"email",autoFocus:!0,onChange:function(e){d(e.target.value),""===e.target.value?x(!0):x(!1)},error:g,helperText:g?"This is a required field":""}),Object(Re.jsxs)(m.a,{container:!0,spacing:2,className:c.buttons,children:[Object(Re.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(O.a,{type:"button",fullWidth:!0,onClick:function(){return s.go(-1)},children:"Cancel"})}),Object(Re.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(Re.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:t,children:"Submit"})})]})]})})})})),Ra={resetPasswordConfirm:function(e,t,a,n){return function(){var r=Object(x.a)(g.a.mark((function r(c){var s,o;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(Te()),s={headers:{"Content-Type":"application/json"}},o=JSON.stringify({uid:e,token:t,new_password:a,re_new_password:n}),r.prev=3,r.next=6,y.a.post("/auth/users/reset_password_confirm/",o,s);case 6:c(we()),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),r.t0.response.data.uid||r.t0.response.data.token?c(Ee("Expired reset password token")):r.t0.response.data.new_password?c(Ce(ce)):c(Ee(re));case 12:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(e){return r.apply(this,arguments)}}()}},Ua=Object(u.b)((function(e){return{authLoading:e.auth.authLoading,resetPasswordConfirmSuccess:e.auth.resetPasswordConfirmSuccess}}),Ra)((function(e){var t=e.authLoading,a=e.resetPasswordConfirmSuccess,r=e.resetPasswordConfirm,c=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},submit:{margin:e.spacing(3,0,2)},buttons:{margin:e.spacing(3,0,2)}}}))(),s=Object(i.g)(),o=Object(i.i)(),u=o.uid,l=o.token,d=Object(n.useState)(""),j=Object(Xt.a)(d,2),m=j[0],f=j[1],g=Object(n.useState)(""),x=Object(Xt.a)(g,2),v=x[0],y=x[1],S=Object(n.useState)(!1),C=Object(Xt.a)(S,2),w=C[0],E=C[1],_=Object(n.useState)(!1),P=Object(Xt.a)(_,2),T=P[0],L=P[1],A=Object(n.useState)(!1),k=Object(Xt.a)(A,2),N=k[0],I=k[1];return Object(Re.jsx)(h.a,{maxWidth:"xs",children:Object(Re.jsx)("div",{className:c.paper,children:a?Object(Re.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s.push("/login")},children:[Object(Re.jsx)(p.a,{variant:"h6",noWrap:!0,style:{textAlign:"center"},children:"You have successfully reset your password."}),Object(Re.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.button,autoFocus:!0,children:"Proceed to Login"})]}):Object(Re.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),E(!1),L(!1),I(!1),""===m&&E(!0),""===v&&L(!0),v!==m&&I(!0),m&&v&&!N&&r(u,l,m,v)},children:[Object(Re.jsx)(Zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"New Password",name:"newPassword",type:"password",autoFocus:!0,onChange:function(e){f(e.target.value),""===e.target.value?(E(!0),I(!1)):v&&e.target.value!==v?(I(!0),E(!1)):(E(!1),I(!1))},error:w,helperText:w?"This is a required field":"Minimum 8 characters with a mixture of lower and upper case letters, numbers and symbols"}),Object(Re.jsx)(Zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Confim New Password",name:"confirmNewPassword",type:"password",onChange:function(e){y(e.target.value),""===e.target.value?(L(!0),I(!1)):e.target.value!==m?(I(!0),L(!1)):(L(!1),I(!1))},error:T||N,helperText:T?"This is a required field":N?"Password does not match":""}),Object(Re.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,disabled:t,children:"Reset Password"})]})})})})),Da=a(354),Ma=a(372),Wa=a(136),Fa=a.n(Wa),qa="GET_QUESTIONS_SUCCESS",Ba="GET_QUESTIONS_FAIL",Ha="FORM_LOADING",Ga="RESET_FORM_LOADING",Qa="RESET_FORM_ERROR_MSG";y.a.defaults.xsrfCookieName="csrftoken",y.a.defaults.xsrfHeaderName="X-CSRFToken";var Ja=function(e){return function(){var t=Object(x.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Va()),n={headers:{"Content-Type":"application/json"}},t.prev=2,t.next=5,y.a.get("/form/question-list/?form_type=".concat(e),n);case 5:r=t.sent,a(za(e,r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a(Ya(e,"Unable to load questions"));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},za=function(e,t){return{type:qa,payload:{formType:e,questions:t}}},Ya=function(e,t){return{type:Ba,payload:{formType:e,formErrorMsg:t}}},Va=function(){return{type:Ha}},Ka={getQuestions:Ja,getPostDetail:bt,getUserPost:ht},Xa=Object(u.b)((function(e){return{user:e.auth.user,userPost:e.post.userPost,post:e.post.post,roommateCategories:e.form.roommateCategories}}),Ka)((function(e){var t=e.user,a=e.userPost,r=e.post,c=e.roommateCategories,s=e.getPostDetail,o=e.getQuestions,u=e.getUserPost,l=Object(b.a)((function(e){return{avatar:{height:200,width:200,marginBottom:20},content:{display:"flex",flexDirection:"column",alignItems:"center"},tag:{marginRight:5,marginTop:5},category:{marginBottom:30},card:{width:"100%",marginLeft:23,marginRight:23},tooltip:{position:"fixed",bottom:e.spacing(2),right:e.spacing(3)}}}))(),d=Object(i.g)(),j=Object(i.i)().id;return Object(n.useEffect)((function(){0===c.length&&o(1),s(j)}),[]),Object(n.useEffect)((function(){return t?u(t.id):null}),[t]),Object(Re.jsx)("div",{className:l.card,children:(null===r||void 0===r?void 0:r.id.toString())===j.toString()?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)(Ut.a,{children:[Object(Re.jsx)(Da.a,{avatar:Object(Re.jsx)(Ft.a,{onClick:function(){d.go(-1)},children:Object(Re.jsx)(Fa.a,{})})}),Object(Re.jsxs)(Mt.a,{className:l.content,children:[Object(Re.jsx)(ia.a,{className:l.avatar,src:r.owner.profile_pic}),Object(Re.jsxs)(p.a,{variant:"h5",children:[r.owner.first_name," ",r.owner.last_name]}),Object(Re.jsx)(p.a,{variant:"body2",color:"textSecondary",className:l.category,children:"Looking for roommates who are:"}),Object(Re.jsx)("div",{children:r.selected_choices.map((function(e,t){return Object(Re.jsxs)("div",{className:l.category,children:[Object(Re.jsx)(p.a,{variant:"body1",color:"textPrimary",gutterBottom:!0,children:c[t]}),e.map((function(e){return Array.isArray(e.otherChoice)?e.otherChoice.map((function(e){return Object(Re.jsx)(Ma.a,{className:l.tag,label:e,color:"primary"},e)})):Object(Re.jsx)(Ma.a,{className:l.tag,label:e.otherChoice,color:"primary"},e)}))]},e)}))})]})]}),t&&0===(null===a||void 0===a?void 0:a.length)&&Object(Re.jsx)(Fe.a,{title:"",onClick:function(){d.push("/roommate-form")},children:Object(Re.jsx)(qe.a,{color:"primary",className:l.tooltip,children:Object(Re.jsx)(He.a,{})})})]}):null})})),Za=a(20),$a=a(3),en=a(294),tn=a(356),an=a(357),nn=a(364),rn=a(298),cn=a(366),sn=a(373),on=a(358),un=a(365),ln=a(88),dn=a(355),jn=Object(u.b)((function(e){return{postLoading:e.post.postLoading}}))((function(e){var t=e.postLoading,a=e.open,n=e.confirmationText,r=e.thankYouText,c=e.success,s=e.handleCancel,o=e.handleSubmit,i=e.handleClose;return Object(Re.jsxs)(ga.a,{open:a,children:[Object(Re.jsx)(ya.a,{children:"Confirmation"}),c?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(va.a,{children:Object(Re.jsx)(p.a,{variant:"body1",children:r})}),Object(Re.jsx)(xa.a,{children:Object(Re.jsx)(O.a,{autoFocus:!0,variant:"contained",color:"primary",type:"submit",onClick:i,children:"Close"})})]}):Object(Re.jsxs)("div",{children:[Object(Re.jsxs)(va.a,{children:[Object(Re.jsx)(p.a,{variant:"body1",children:n}),t&&Object(Re.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(Re.jsx)(dn.a,{style:{marginTop:10,marginBottom:10}})})]}),Object(Re.jsxs)(xa.a,{children:[Object(Re.jsx)(O.a,{variant:"contained",onClick:s,children:"No"}),Object(Re.jsx)(O.a,{color:"primary",disabled:t,onClick:o,type:"submit",variant:"contained",children:"Yes"})]})]})]})})),bn={getQuestions:Ja,createPost:function(e,t,a){return function(){var n=Object(x.a)(g.a.mark((function n(r){var c,s,o;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(Pt()),c=localStorage.getItem("access"),s={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(c)}},o=JSON.stringify({post_form_type:e,selected_choices:t,owner:a});try{y.a.post("/form/post-list/",o,s),r(yt())}catch(i){r(St("Unable to submit form"))}case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},editPost:pt,resetCreatePostSuccess:function(){return{type:ct}},resetEditPostSuccess:Tt,getUserPost:ht,getPostList:jt},hn=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user,roommateQuestions:e.form.roommateQuestions,roommateCategories:e.form.roommateCategories,housingQuestions:e.form.housingQuestions,housingCategories:e.form.housingCategories,profileQuestions:e.form.profileQuestions,profileCategories:e.form.profileCategories,createPostSuccess:e.post.createPostSuccess,editPostSuccess:e.post.editPostSuccess,userPost:e.post.userPost,posts:e.post.posts}}),bn)((function(e){var t=e.user,a=(e.posts,e.userPost,e.getQuestions),r=e.roommateQuestions,c=e.roommateCategories,s=e.housingQuestions,o=e.housingCategories,u=e.profileQuestions,l=e.profileCategories,d=e.createPostSuccess,j=e.editPostSuccess,h=e.createPost,f=e.resetCreatePostSuccess,g=e.editPost,x=e.resetEditPostSuccess,v=e.formType,y=e.initialFormFields,S=e.id,C=e.getUserPost,w=e.getPostList,E=Object(b.a)((function(e){return{paper:{padding:30,paddingBottom:50,marginLeft:23,marginRight:23},flex:{display:"flex",flexDirection:"column",alignItems:"center"},category:{marginBottom:10},active:{background:e.palette.action.hover}}}))(),_=Object(i.g)(),P=["Irrelevant","A little important","Somewhat important","Very important","Mandatory"],T=Object(n.useState)({}),L=Object(Xt.a)(T,2),A=L[0],k=L[1],N=Object(n.useState)(0),I=Object(Xt.a)(N,2),R=I[0],U=I[1],D=Object(n.useState)(0),M=Object(Xt.a)(D,2),W=M[0],F=M[1],q=Object(n.useState)({}),B=Object(Xt.a)(q,2),H=B[0],G=B[1],Q=Object(n.useState)(!1),J=Object(Xt.a)(Q,2),z=J[0],Y=J[1],V=Object(n.useState)([]),K=Object(Xt.a)(V,2),X=K[0],Z=K[1],$=Object(n.useState)([]),ee=Object(Xt.a)($,2),te=ee[0],ae=ee[1],ne=function(){window.scrollTo(0,0),U((function(e){return e-1}))},re=function(e){return function(){return e<=W?U(e):null}},ce=function(e,t,a,n){var r,c,s,o,i,u,l,d,j;switch(a){case Qt:switch(n){case Yt:k(Object($a.a)(Object($a.a)({},A),{},Object(Za.a)({},t,Object($a.a)(Object($a.a)({},A[t]),{},Object(Za.a)({},e.target.name,Object($a.a)(Object($a.a)({},null===(r=A[t])||void 0===r?void 0:r[e.target.name]),{},{question:e.target.name,myChoice:e.target.value}))))));break;case Vt:k(Object($a.a)(Object($a.a)({},A),{},Object(Za.a)({},t,Object($a.a)(Object($a.a)({},A[t]),{},Object(Za.a)({},e.target.name,Object($a.a)(Object($a.a)({},null===(c=A[t])||void 0===c?void 0:c[e.target.name]),{},{otherChoice:e.target.value}))))))}break;case Jt:switch(n){case Yt:var b=(null===(s=A[t])||void 0===s||null===(o=s[e.target.name])||void 0===o?void 0:o.myChoice)||[];(null===b||void 0===b?void 0:b.includes(e.target.value))?b.splice(b.indexOf(e.target.value),1):b.push(e.target.value),k(Object($a.a)(Object($a.a)({},A),{},Object(Za.a)({},t,Object($a.a)(Object($a.a)({},A[t]),{},Object(Za.a)({},e.target.name,Object($a.a)(Object($a.a)({},null===(i=A[t])||void 0===i?void 0:i[e.target.name]),{},{question:e.target.name,myChoice:b}))))));break;case Vt:var h=(null===(u=A[t])||void 0===u||null===(l=u[e.target.name])||void 0===l?void 0:l.otherChoice)||[];(null===h||void 0===h?void 0:h.includes(e.target.value))?h.splice(h.indexOf(e.target.value),1):h.push(e.target.value),k(Object($a.a)(Object($a.a)({},A),{},Object(Za.a)({},t,Object($a.a)(Object($a.a)({},A[t]),{},Object(Za.a)({},e.target.name,Object($a.a)(Object($a.a)({},null===(d=A[t])||void 0===d?void 0:d[e.target.name]),{},{otherChoice:h}))))))}break;case zt:k(Object($a.a)(Object($a.a)({},A),{},Object(Za.a)({},t,Object($a.a)(Object($a.a)({},A[t]),{},Object(Za.a)({},e.target.name,Object($a.a)(Object($a.a)({},null===(j=A[t])||void 0===j?void 0:j[e.target.name]),{},{priority:e.target.value}))))))}};Object(n.useEffect)((function(){1===v&&0===r.length||2===v&&0===s.length||3===v&&0===u.length?a(v):1===v?(Z(r),ae(c)):2===v?(Z(s),ae(o)):(Z(u),ae(l))}),[]),Object(n.useEffect)((function(){Z(r),ae(c)}),[r,1===v?X:null]),Object(n.useEffect)((function(){Z(s),ae(o)}),[s,2===v?X:null]),Object(n.useEffect)((function(){Z(u),ae(l)}),[u,3===v?X:null]),Object(n.useEffect)((function(){if(y){k(y);var e=te.reduce((function(e,t,a){return Object($a.a)(Object($a.a)({},e),{},Object(Za.a)({},a,!0))}),{});G(e),F(te.length)}}),[y,te]),Object(n.useEffect)((function(){w(1)}),[]),Object(n.useEffect)((function(){return t?C(t.id):null}),[t]);var se,oe=function(e){var t,a,n,r,c,s,o=e.question;return Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(p.a,{variant:"h6",color:"textPrimary",gutterBottom:!0,children:o.question_text}),Object(Re.jsxs)(m.a,{container:!0,spacing:8,children:[Object(Re.jsx)(m.a,{item:!0,xs:4,children:Object(Re.jsxs)($t.a,{children:[Object(Re.jsx)(en.a,{children:"You are..."}),Object(Re.jsx)(tn.a,{name:o.id,value:null===(t=A[R])||void 0===t||null===(a=t[o.id])||void 0===a?void 0:a.myChoice,onChange:function(e){return ce(e,R,Qt,Yt)},children:o.choice_set.map((function(e){return Object(Re.jsx)(an.a,{control:Object(Re.jsx)(nn.a,{color:"primary"}),value:e,label:e},e)}))})]})}),Object(Re.jsx)(m.a,{item:!0,xs:4,children:Object(Re.jsxs)($t.a,{children:[Object(Re.jsx)(en.a,{children:"Your ideal roommate is......"}),Object(Re.jsx)(tn.a,{name:o.id,value:null===(n=A[R])||void 0===n||null===(r=n[o.id])||void 0===r?void 0:r.otherChoice,onChange:function(e){return ce(e,R,Qt,Vt)},children:o.choice_set.map((function(e){return Object(Re.jsx)(an.a,{control:Object(Re.jsx)(nn.a,{color:"primary"}),value:e,label:e},e)}))})]})}),Object(Re.jsx)(m.a,{item:!0,xs:4,children:Object(Re.jsxs)($t.a,{children:[Object(Re.jsx)(en.a,{children:"This question is..."}),Object(Re.jsx)(tn.a,{name:o.id,value:null===(c=A[R])||void 0===c||null===(s=c[o.id])||void 0===s?void 0:s.priority,onChange:function(e){return ce(e,R,zt)},children:P.map((function(e){return Object(Re.jsx)(an.a,{control:Object(Re.jsx)(nn.a,{color:"primary"}),value:e,label:e},e)}))})]})})]})]})},ie=function(e){var t,a,n=e.question;return Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(p.a,{variant:"h6",color:"textPrimary",gutterBottom:!0,children:n.question_text}),Object(Re.jsxs)(m.a,{container:!0,item:!0,spacing:8,children:[Object(Re.jsx)(m.a,{item:!0,xs:4,children:Object(Re.jsxs)($t.a,{children:[Object(Re.jsx)(en.a,{children:"You are..."}),Object(Re.jsx)(rn.a,{children:n.choice_set.map((function(e){var t,a,r;return Object(Re.jsx)(an.a,{control:Object(Re.jsx)(cn.a,{color:"primary"}),name:n.id,value:e,label:e,checked:null===(t=A[R])||void 0===t||null===(a=t[n.id])||void 0===a||null===(r=a.myChoice)||void 0===r?void 0:r.includes(e),onChange:function(e){return ce(e,R,Jt,Yt)}},e)}))})]})}),Object(Re.jsx)(m.a,{item:!0,xs:4,children:Object(Re.jsxs)($t.a,{children:[Object(Re.jsx)(en.a,{children:"Your ideal roommate is......"}),Object(Re.jsx)(rn.a,{children:n.choice_set.map((function(e){var t,a,r;return Object(Re.jsx)(an.a,{name:n.id,value:e,control:Object(Re.jsx)(cn.a,{color:"primary"}),checked:null===(t=A[R])||void 0===t||null===(a=t[n.id])||void 0===a||null===(r=a.otherChoice)||void 0===r?void 0:r.includes(e),label:e,onChange:function(e){return ce(e,R,Jt,Vt)}},e)}))})]})}),Object(Re.jsx)(m.a,{item:!0,xs:4,children:Object(Re.jsxs)($t.a,{children:[Object(Re.jsx)(en.a,{children:"This question is..."}),Object(Re.jsx)(tn.a,{name:n.id,value:null===(t=A[R])||void 0===t||null===(a=t[n.id])||void 0===a?void 0:a.priority,onChange:function(e){return ce(e,R,zt)},children:P.map((function(e){return Object(Re.jsx)(an.a,{control:Object(Re.jsx)(nn.a,{color:"primary"}),value:e,label:e},e)}))})]})})]})]})},ue=function(e){var t=e.question;Zt.a,t.question_text,t.question_text},le=Object(Re.jsx)(sn.a,{nonLinear:!0,alternativeLabel:!0,activeStep:R,children:te.map((function(e,t){return Object(Re.jsx)(on.a,{children:Object(Re.jsx)(un.a,{onClick:re(t),completed:H[t],className:t===R?E.active:null,children:e})},e)}))}),de=Object(Re.jsxs)(m.a,{container:!0,children:[Object(Re.jsx)(m.a,{container:!0,item:!0,xs:12,style:{padding:48},children:te.filter((function(e){return"Confirmation"!==e})).map((function(e,t){return Object(Re.jsxs)(m.a,{item:!0,xs:12,style:{marginBottom:32},children:[Object(Re.jsxs)(m.a,{container:!0,children:[Object(Re.jsx)(m.a,{item:!0,xs:3,children:Object(Re.jsx)(p.a,{variant:"h6",children:e})}),Object(Re.jsx)(m.a,{item:!0,xs:3,children:Object(Re.jsx)(p.a,{variant:"body1",color:"textSecondary",children:"You are..."})}),Object(Re.jsx)(m.a,{item:!0,xs:3,children:Object(Re.jsx)(p.a,{variant:"body1",color:"textSecondary",children:"Your ideal roommate is......"})}),Object(Re.jsx)(m.a,{item:!0,xs:3,children:Object(Re.jsx)(p.a,{variant:"body1",color:"textSecondary",children:"This question is..."})})]}),Object(Re.jsx)(m.a,{container:!0,children:X.filter((function(t){return t.category===e})).map((function(e){var a,n,r,c,s,o,i,u,l,d,j,b;return Object(Re.jsxs)(m.a,{container:!0,item:!0,xs:12,spacing:8,children:[Object(Re.jsx)(m.a,{item:!0,xs:3,children:Object(Re.jsx)(p.a,{variant:"body1",gutterBottom:!0,children:e.question_text})}),Object(Re.jsx)(m.a,{item:!0,xs:3,children:e.question_type===Jt?Object(Re.jsx)(p.a,{variant:"body1",gutterBottom:!0,children:null===(a=A[t])||void 0===a||null===(n=a[e.id])||void 0===n||null===(r=n.myChoice)||void 0===r?void 0:r.reduce((function(e,t){return(e?e+", ":e)+t}),"")}):Object(Re.jsx)(p.a,{variant:"body1",gutterBottom:!0,children:null===(c=A[t])||void 0===c||null===(s=c[e.id])||void 0===s?void 0:s.myChoice})}),Object(Re.jsx)(m.a,{item:!0,xs:3,children:e.question_type===Jt?Object(Re.jsx)(p.a,{variant:"body1",gutterBottom:!0,children:null===(o=A[t])||void 0===o||null===(i=o[e.id])||void 0===i||null===(u=i.otherChoice)||void 0===u?void 0:u.reduce((function(e,t){return(e?e+", ":e)+t}),"")}):Object(Re.jsx)(p.a,{variant:"body1",gutterBottom:!0,children:null===(l=A[t])||void 0===l||null===(d=l[e.id])||void 0===d?void 0:d.otherChoice})}),Object(Re.jsx)(m.a,{item:!0,xs:3,children:Object(Re.jsx)(p.a,{variant:"body1",gutterBottom:!0,children:null===(j=A[t])||void 0===j||null===(b=j[e.id])||void 0===b?void 0:b.priority})})]})}))})]},e)}))}),Object(Re.jsxs)(m.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"},children:[Object(Re.jsx)(O.a,{onClick:ne,style:{marginRight:8},children:"Back"}),Object(Re.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(){Y(!0)},children:"Submit"})]})]}),je=Object(Re.jsxs)(m.a,{container:!0,children:[Object(Re.jsx)(m.a,{container:!0,item:!0,xs:12,style:{padding:48},children:X.filter((function(e){return e.category===te[R]})).map((function(e){return Object(Re.jsx)(m.a,{item:!0,xs:12,style:{marginBottom:32},children:e.question_type===Qt?Object(Re.jsx)(oe,{question:e}):e.question_type===Jt?Object(Re.jsx)(ie,{question:e}):Object(Re.jsx)(ue,{question:e})})}))}),Object(Re.jsxs)(m.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"},children:[Object(Re.jsx)(O.a,{onClick:ne,disabled:0===R,style:{marginRight:8},children:"Back"}),Object(Re.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(){window.scrollTo(0,0),U((function(e){return e+1})),F((function(e){return R>=W?e+1:e}));var e=H;e[R]=!0,G(e)},disabled:(se=R,!X.filter((function(e){return e.category===te[se]})).reduce((function(e,t){var a,n,r,c,s,o;return e&&(null===(a=A[se])||void 0===a||null===(n=a[t.id])||void 0===n?void 0:n.myChoice)&&(null===(r=A[se])||void 0===r||null===(c=r[t.id])||void 0===c?void 0:c.otherChoice)&&(null===(s=A[se])||void 0===s||null===(o=s[t.id])||void 0===o?void 0:o.priority)}),!0)),children:"Next"})]})]}),be=Object(Re.jsx)(jn,{open:z,confirmationText:"Are you sure you want to submit?",thankYouText:"Thank you for your submission!",success:S?j:d,handleCancel:function(){return Y(!1)},handleSubmit:function(){var e=Object.values(A).map((function(e){return Object.values(e)})),a={first_name:t.first_name,last_name:t.last_name};S?g(S,v,e,a):h(v,e,a)},handleClose:function(){f(),x(),Y(!1),_.push("/matchmaking")}});return Object(Re.jsx)(Re.Fragment,{children:0!==X.length&&0!==te.length?Object(Re.jsxs)(ln.a,{className:E.paper,children:[le,Object(Re.jsx)("div",{children:R===te.length-1?de:je}),be]}):null})})),pn=function(){return Object(Re.jsx)(hn,{formType:1})},On=function(){return Object(Re.jsx)(hn,{formType:3})},mn=function(){return Object(Re.jsx)(hn,{formType:2})},fn=a(170),gn=a.n(fn),xn={deletePost:function(e){return function(){var t=Object(x.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Pt()),n=localStorage.getItem("access"),r={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(n)}};try{y.a.delete("/form/post-list/".concat(e,"/"),r),a(Et())}catch(c){a(_t("Unable to delete post"))}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},resetDeletePostSuccess:function(){return{type:ot}},getPostList:jt,getUserPost:ht,loadUser:se},vn=Object(u.b)((function(e){return{user:e.auth.user,userPost:e.post.userPost,deletePostSuccess:e.post.deletePostSuccess}}),xn)((function(e){var t,a,r,c,s,u=e.user,l=e.userPost,d=e.post,j=e.deletePostSuccess,h=e.deletePost,O=e.resetDeletePostSuccess,m=e.getUserPost,f=e.getPostList,g=e.loadUser,x=Object(b.a)((function(e){return{card:{width:345,cursor:"pointer",alignSelf:"center"},media:{height:160},tag:{marginRight:5,marginTop:5},text:{height:150},edit:{float:"right",marginRight:5,marginTop:5},delete:{float:"right",marginRight:-15,marginTop:5},icon:{color:"black"}}}))(),v=Object(i.g)(),y=Object(n.useState)(!1),S=Object(Xt.a)(y,2),C=S[0],w=S[1];return Object(n.useEffect)((function(){return g()}),[]),Object(n.useEffect)((function(){return u?m(u.id):null}),[u]),Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)(Ut.a,{className:x.card,children:[(null===u||void 0===u?void 0:u.id)===d.owner.id&&Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(Fe.a,{title:"",className:x.edit,onClick:function(){v.push("/edit-form/".concat(d.id))},children:Object(Re.jsx)(Ft.a,{className:x.icon,children:Object(Re.jsx)(Bt.a,{})})}),Object(Re.jsx)(Fe.a,{title:"",className:x.delete,onClick:function(){w(!0)},children:Object(Re.jsx)(Ft.a,{className:x.icon,children:Object(Re.jsx)(gn.a,{})})})]}),Object(Re.jsxs)(o.b,{to:"/roommates/".concat(d.id),style:{textDecoration:"none",color:"black"},children:[Object(Re.jsx)(Wt.a,{className:x.media,image:d.owner.profile_pic,title:d.owner.first_name+" "+d.owner.last_name}),Object(Re.jsx)(Dt.a,{children:Object(Re.jsxs)(Mt.a,{children:[Object(Re.jsxs)(p.a,{variant:"h5",gutterBottom:!0,children:[d.owner.first_name," ",d.owner.last_name," ",(null===(t=d.score_list[null===l||void 0===l||null===(a=l[0])||void 0===a?void 0:a.id])||void 0===t?void 0:t.score)&&(null===(r=d.score_list[null===l||void 0===l||null===(c=l[0])||void 0===c?void 0:c.id])||void 0===r?void 0:r.score)+"%"]}),Object(Re.jsx)(p.a,{variant:"body2",color:"textSecondary",className:x.text,children:(null===d||void 0===d||null===(s=d.owner.bio)||void 0===s?void 0:s.length)>220?d.owner.bio.substring(0,220)+"...":d.owner.bio}),Object(Re.jsx)("br",{}),Object(Re.jsx)(p.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:"Looking for roommates who are:"})]})})]})]}),Object(Re.jsx)(jn,{open:C,confirmationText:"Are you sure you want to delete?",thankYouText:"You have successfully deleted your post",success:j,handleCancel:function(){w(!1)},handleSubmit:function(){h(d.id)},handleClose:function(){O(),f(1),m(u.id),w(!1)}})]})})),yn=function(){var e=Object(i.g)();return Object(Re.jsx)("div",{children:Object(Re.jsx)(Rt,{postType:1,handlePost:function(){e.push("/roommate-form")},PostComponent:vn,xs:12,md:6,lg:4})})},Sn=function(){return Object(Re.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","Team Eclipse"," ",(new Date).getFullYear(),"."]})},Cn=a(4),wn=a(374),En=a(359),_n=a(171),Pn=a.n(_n),Tn=a(172),Ln=a.n(Tn),An=function(e){var t,a,n=e.drawerWidth,r=e.menuOpen,c=e.hoverOpen,s=e.drawerOpen,o=e.handleMouseEnter,u=e.handleMouseLeave,l=Object(b.a)((function(e){return{active:{background:e.palette.action.hover},drawer:{width:n,flexShrink:0,whiteSpace:"nowrap",position:"absolute"},drawerOpen:{width:n,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerOpenDelay:{width:n,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),transitionDelay:"1s"},drawerClose:Object(Za.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(7)+1}),toolbar:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),minHeight:e.mixins.toolbar.minHeight+8}}})),d=[{text:"Housings",icon:Object(Re.jsx)(Pn.a,{color:"primary"}),path:"/housings"},{text:"Roommates",icon:Object(Re.jsx)(Ln.a,{color:"primary"}),path:"/roommates"}],j=Object(i.g)(),h=Object(i.h)(),p=l();return Object(Re.jsxs)(wn.a,{variant:"permanent",onMouseEnter:o,onMouseLeave:u,className:Object(Cn.a)(p.drawer,(t={},Object(Za.a)(t,p.drawerOpen,s),Object(Za.a)(t,p.drawerOpenDelay,!r&&c),Object(Za.a)(t,p.drawerClose,!s),t)),classes:{paper:Object(Cn.a)((a={},Object(Za.a)(a,p.drawerOpen,s),Object(Za.a)(a,p.drawerOpenDelay,!r&&c),Object(Za.a)(a,p.drawerClose,!s),a))},children:[Object(Re.jsx)("div",{className:p.toolbar}),Object(Re.jsx)(ba.a,{children:d.map((function(e){return Object(Re.jsxs)(sa.a,{button:!0,onClick:function(){j.push(e.path)},className:h.pathname===e.path?p.active:null,children:[Object(Re.jsx)(En.a,{children:e.icon}),Object(Re.jsx)(oa.a,{primary:e.text})]},e.text)}))})]})},kn=a(15),Nn=a(361),In=a(362),Rn=a(181),Un=a(176),Dn=a.n(Un),Mn=a.p+"static/media/housemates-logo-without-text-white.46ea2238.svg",Wn=a(175),Fn=a.n(Wn),qn=a(174),Bn=a.n(qn),Hn=a(173),Gn=a.n(Hn),Qn={palette:{type:"light"}},Jn={palette:{type:"dark"}},zn={logout:function(){return function(e){return e(xe())}},searchPost:function(e,t){return function(){var a=Object(x.a)(g.a.mark((function a(n){var r,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Pt()),r={headers:{"Content-Type":"application/json"}},a.prev=2,a.next=5,y.a.get("/form/post-list/?form_type=".concat(e,"&search=").concat(t),r);case 5:c=a.sent,n(Lt(c.data)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),n(At("Unable to search post"));case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}()},cancelSearch:function(){return function(){var e=Object(x.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(kt())}catch(a){t(Nt(" Unable to cancel search"))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Yn=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),zn)((function(e){var t=e.handleMenuButton,a=e.isAuthenticated,r=e.logout,c=e.user,s=e.searchPost,u=e.cancelSearch,d=Object(b.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},toolbar:{display:"flex",paddingLeft:24,minHeight:e.mixins.toolbar.minHeight+8},menuButton:{marginRight:25,marginLeft:-20},logo:{marginRight:10},title:{marginRight:30},grow:{flexGrow:1},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(kn.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(kn.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:400},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},buttons:{textDecoration:"none",color:"white"},profilePic:{marginLeft:10,cursor:"pointer"}}})),j=Object(n.useState)(!0),h=Object(Xt.a)(j,2),m=h[0],f=(h[1],m?Fn.a:Bn.a,Object(l.a)(m?Qn:Jn),Object(i.h)()),g=d(),x=Object(i.g)(),v=Object(n.useState)(null),y=Object(Xt.a)(v,2),S=y[0],C=y[1],w=Object(n.useState)({search:""}),E=Object(Xt.a)(w,2),_=E[0],P=E[1],T=function(){x.push("/profile")};return Object(Re.jsx)("div",{children:Object(Re.jsx)(Nn.a,{position:"fixed",className:g.appBar,children:Object(Re.jsxs)(In.a,{className:g.toolbar,children:[Object(Re.jsx)(Ft.a,{color:"inherit","aria-label":"open drawer",onClick:t,edge:"start",className:g.menuButton,children:Object(Re.jsx)(Dn.a,{})}),Object(Re.jsx)("img",{alt:"logo",src:Mn,width:"45",height:"45",className:g.logo,onClick:T,style:{cursor:"pointer"}}),Object(Re.jsx)(p.a,{variant:"h6",className:g.title,onClick:T,style:{cursor:"pointer"},children:"HouseMates"}),Object(Re.jsx)("div",{className:g.grow}),"/roommates"===f.pathname&&Object(Re.jsx)(Gn.a,{className:g.search,value:_.search,onChange:function(e){return P({search:e})},onRequestSearch:function(){return e=_.search,void s(1,e);var e},onCancelSearch:function(){u()},cancelOnEscape:!0}),Object(Re.jsx)("div",{className:g.grow}),a&&c?Object(Re.jsxs)(n.Fragment,{style:{display:"flex",flexDirection:"row"},children:[Object(Re.jsx)("div",{style:{alignSelf:"center"},children:Object(Re.jsxs)(p.a,{noWrap:!0,children:["Welcome ",c.first_name," ",c.last_name,"!"]})}),Object(Re.jsx)("div",{children:Object(Re.jsx)(ia.a,{className:g.profilePic,onClick:function(e){C(e.currentTarget)},src:c.profile_pic})}),Object(Re.jsxs)(Rn.a,{anchorEl:S,keepMounted:!0,open:Boolean(S),onClose:function(){C(null)},children:[Object(Re.jsx)(aa.a,{onClick:function(){C(null),x.push("/profile")},children:"Profile"}),Object(Re.jsx)(aa.a,{onClick:function(){C(null),r(),x.push("/login")},children:"Logout"})]})]}):Object(Re.jsxs)(n.Fragment,{children:[Object(Re.jsx)(O.a,{children:Object(Re.jsx)(o.b,{to:"/login",className:g.buttons,children:"Login"})}),Object(Re.jsx)(O.a,{children:Object(Re.jsx)(o.b,{to:"/register",className:g.buttons,children:"Register"})})]})]})})})})),Vn=Object(u.b)((function(e){return{formLoading:e.form.formLoading,postLoading:e.post.postLoading,profileLoading:e.auth.profileLoading}}))((function(e){var t=e.children,a=e.formLoading,r=e.postLoading,c=e.profileLoading,s=Object(b.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3)},toolbar:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),minHeight:e.mixins.toolbar.minHeight+8},closeSize:{minHeight:100,width:e.spacing(8)+1,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},openSize:{minHeight:100,width:o+60,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}}})),o=190,i=s(),u=Object(n.useState)(!1),l=Object(Xt.a)(u,2),d=l[0],j=l[1],h=Object(n.useState)(!1),p=Object(Xt.a)(h,2),O=p[0],m=p[1],f=d||!d&&O;return Object(Re.jsxs)("div",{className:i.root,children:[Object(Re.jsx)(Yn,{handleMenuButton:function(){j(!d)}}),Object(Re.jsx)(An,{drawerWidth:o,menuOpen:d,hoverOpen:O,drawerOpen:f,handleMouseEnter:function(){m(!0)},handleMouseLeave:function(){m(!1)}}),Object(Re.jsxs)("main",{className:i.content,children:[Object(Re.jsx)("div",{className:i.toolbar}),Object(Re.jsxs)("div",{style:{display:"flex"},children:[Object(Re.jsx)("div",{className:d?i.openSize:i.closeSize}),Object(Re.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[(r||a||c)&&Object(Re.jsx)(dn.a,{style:{marginBottom:40}}),Object(Re.jsx)("div",{style:{width:"100%"},children:t}),Object(Re.jsx)("div",{style:{marginTop:60},children:Object(Re.jsx)(Sn,{})})]})]})]})]})})),Kn=a.p+"static/media/housemates-logo-with-text-black.34fb629a.svg",Xn=Object(u.b)((function(e){return{authLoading:e.auth.authLoading}}))((function(e){var t=e.children,a=e.title,n=e.authLoading;return Object(Re.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(Re.jsx)("img",{alt:"logo",src:Kn,width:"150",height:"150",style:{marginTop:50}}),Object(Re.jsx)(p.a,{variant:"h6",gutterBottom:!0,children:a}),n&&Object(Re.jsx)(dn.a,{}),t,Object(Re.jsx)("div",{style:{marginTop:60},children:Object(Re.jsx)(Sn,{})})]})})),Zn=a(182),$n=function(e){var t=e.title,a=e.component,n=e.layout,r=Object(Zn.a)(e,["title","component","layout"]);return Object(Re.jsx)(i.b,Object($a.a)(Object($a.a)({},r),{},{render:function(e){return Object(Re.jsx)(n,Object($a.a)(Object($a.a)({},e),{},{title:t,children:Object(Re.jsx)(a,Object($a.a)({},e))}))}}))},er=a(363),tr=a(368),ar=(a(284),{checkAuthentication:oe,resetAuthErrorMsg:function(){return{type:z}},resetFormErrorMsg:function(){return{type:Qa}},resetPostErrorMsg:function(){return{type:rt}},setPrevPath:function(e){return{type:ee,payload:e}}}),nr=Object(u.b)((function(e){return{authErrorMsg:e.auth.authErrorMsg,formErrorMsg:e.form.formErrorMsg,postErrorMsg:e.post.postErrorMsg,prevPath:e.auth.prevPath}}),ar)((function(e){var t=e.children,a=e.checkAuthentication,r=e.prevPath,c=e.setPrevPath,s=e.authErrorMsg,o=e.formErrorMsg,u=e.postErrorMsg,l=e.resetAuthErrorMsg,d=e.resetFormErrorMsg,j=e.resetPostErrorMsg,b=function(e,t){"clickaway"!==t&&(s&&l(),o&&d(),u&&j())},h=Object(i.h)(),p=Object(n.useRef)();return Object(n.useEffect)((function(){return window.scroll(0,0),function(){h.pathname!==r&&c(h.pathname)}}),[h.pathname]),Object(n.useEffect)((function(){a()}),[]),Object(Re.jsxs)("div",{children:[Object(Re.jsx)(tr.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:s||o||u,onClose:b,style:{zIndex:1502},children:Object(Re.jsx)(er.a,{action:Object(Re.jsxs)("div",{className:"buttonHolder",children:[Object(Re.jsx)("div",{className:"div",style:{zIndex:1504},onClick:b,onMouseEnter:function(e){"rgb(211, 47, 47)"!==p.current.style.backgroundColor&&(p.current.style.backgroundColor="rgb(234, 64, 51)")},onMouseLeave:function(e){p.current.style.backgroundColor="rgb(244, 67, 54)",p.current.classList.remove("grow"),e.target.classList.remove("grow")}}),Object(Re.jsx)("div",{className:"close",style:{zIndex:1503},children:"\u2716"}),Object(Re.jsx)("button",{autoFocus:!0,onFocus:function(e){e.target.style.outline="none",e.target.style.backgroundColor="rgb(211, 47, 47)",e.target.classList.add("grow")},onBlur:function(e){p.current.style.backgroundColor="rgb(244, 67, 54)",p.current.classList.remove("grow"),e.target.classList.remove("grow")},onClick:b,ref:p,className:"button"})]}),severity:"error",variant:"filled",children:s||(o||u)})}),(s||o||u)&&Object(Re.jsx)("div",{className:"sheild",style:{zIndex:1501}}),t]})})),rr=a(80),cr=a(177),sr=a(178),or={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:!1,user:null,registrationSuccess:!1,activationSuccess:!1,resendActivationEmailSuccess:!1,deleteAccountSuccess:!1,resetPasswordSuccess:!1,resetPasswordConfirmSuccess:!1,changePasswordSuccess:!1,editBioSuccess:!1,authErrorMsg:"",authLoading:!1,profileLoading:!1,prevPath:""},ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case S:return Object($a.a)(Object($a.a)({},e),{},{registrationSuccess:!0,authLoading:!1});case C:return Object($a.a)(Object($a.a)({},e),{},{registrationSuccess:!1,authErrorMsg:n,authLoading:!1});case w:return Object($a.a)(Object($a.a)({},e),{},{activationSuccess:!0,authLoading:!1});case E:return Object($a.a)(Object($a.a)({},e),{},{activationSuccess:!1,authErrorMsg:n,authLoading:!1});case _:return Object($a.a)(Object($a.a)({},e),{},{resendActivationEmailSuccess:!0,authLoading:!1});case P:return Object($a.a)(Object($a.a)({},e),{},{resendActivationEmailSuccess:!1,authErrorMsg:n,authLoading:!1});case T:return Object($a.a)(Object($a.a)({},e),{},{user:n,authLoading:!1});case L:return Object($a.a)(Object($a.a)({},e),{},{user:null,authLoading:!1});case A:return Object($a.a)(Object($a.a)({},e),{},{isAuthenticated:!0});case k:return Object($a.a)(Object($a.a)({},e),{},{isAuthenticated:!1});case N:return localStorage.setItem("access",n.access),localStorage.setItem("refresh",n.refresh),Object($a.a)(Object($a.a)({},e),{},{access:n.access,refresh:n.refresh,authLoading:!1});case I:return Object($a.a)(Object($a.a)({},e),{},{access:null,refresh:null,authErrorMsg:n,authLoading:!1});case R:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object($a.a)(Object($a.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,user:null});case U:return Object($a.a)(Object($a.a)({},e),{},{deleteAccountSuccess:!0,authLoading:!1});case D:return Object($a.a)(Object($a.a)({},e),{},{deleteAccountSuccess:!1,authErrorMsg:n,authLoading:!1});case M:return Object($a.a)(Object($a.a)({},e),{},{resetPasswordSuccess:!0,authLoading:!1});case W:return Object($a.a)(Object($a.a)({},e),{},{resetPasswordSuccess:!1,authErrorMsg:n,authLoading:!1});case F:return Object($a.a)(Object($a.a)({},e),{},{resetPasswordConfirmSuccess:!0,authLoading:!1});case q:return Object($a.a)(Object($a.a)({},e),{},{resetPasswordConfirmSuccess:!1,authErrorMsg:n,authLoading:!1});case B:return Object($a.a)(Object($a.a)({},e),{},{changePasswordSuccess:!0,authLoading:!1});case H:return Object($a.a)(Object($a.a)({},e),{},{changePasswordSuccess:!1,authErrorMsg:n,authLoading:!1});case G:return Object($a.a)(Object($a.a)({},e),{},{authLoading:!0});case Q:return Object($a.a)(Object($a.a)({},e),{},{authLoading:!1});case z:return Object($a.a)(Object($a.a)({},e),{},{authErrorMsg:""});case Y:return Object($a.a)(Object($a.a)({},e),{},{changePasswordSuccess:!1});case J:return Object($a.a)(Object($a.a)({},e),{},{profileLoading:!0});case K:var r=Object($a.a)({},e.user);return r.profile_pic=n,Object($a.a)(Object($a.a)({},e),{},{profileLoading:!1,user:r});case X:return Object($a.a)(Object($a.a)({},e),{},{profileLoading:!1,authErrorMsg:n});case Z:return Object($a.a)(Object($a.a)({},e),{},{profileLoading:!1,editBioSuccess:!0});case $:return Object($a.a)(Object($a.a)({},e),{},{profileLoading:!1,authErrorMsg:n,editBioSuccess:!1});case V:return Object($a.a)(Object($a.a)({},e),{},{editBioSuccess:!1});case ee:return Object($a.a)(Object($a.a)({},e),{},{prevPath:n});default:return e}},ur=a(180),lr={formLoading:!1,roommateQuestions:[],roommateCategories:[],housingQuestions:[],housingCategories:[],profileQuestions:[],profileCategories:[],formErrorMsg:""},dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case qa:var r=n.questions.map((function(e){return e.category})),c=Object(ur.a)(new Set(r));return c.push("Confirmation"),1===n.formType?Object($a.a)(Object($a.a)({},e),{},{formLoading:!1,roommateQuestions:n.questions,roommateCategories:c}):2===n.formType?Object($a.a)(Object($a.a)({},e),{},{formLoading:!1,housingQuestions:n.questions,housingCategories:c}):Object($a.a)(Object($a.a)({},e),{},{formLoading:!1,profileQuestions:n.questions,profileCategories:c});case Ba:return 1===n.formType?Object($a.a)(Object($a.a)({},e),{},{formLoading:!1,roommateQuestions:[],roommateCategories:[],formErrorMsg:n.formErrorMsg}):2===n.formType?Object($a.a)(Object($a.a)({},e),{},{formLoading:!1,housingQuestions:[],housingCategories:[],formErrorMsg:n.formErrorMsg}):Object($a.a)(Object($a.a)({},e),{},{formLoading:!1,profileQuestions:[],profileCategories:[],formErrorMsg:n.formErrorMsg});case Ha:return Object($a.a)(Object($a.a)({},e),{},{formLoading:!0});case Ga:return Object($a.a)(Object($a.a)({},e),{},{formLoading:!1});case Qa:return Object($a.a)(Object($a.a)({},e),{},{formErrorMsg:""});default:return e}},jr={postLoading:!1,posts:[],postsType:[],post:null,userPost:[],postErrorMsg:"",createPostSuccess:!1,editPostSuccess:!1,deletePostSuccess:!1,searchPostSuccess:!1,cancelSearchSuccess:!1},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Ge:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,posts:n.posts,postsType:n.formType});case Qe:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,postErrorMsg:n});case Je:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,post:n});case ze:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,post:null,postErrorMsg:n});case Ye:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,userPost:n});case Ve:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,userPost:null,postErrorMsg:n});case Ke:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,createPostSuccess:!0});case Xe:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,postErrorMsg:n,createPostSuccess:!1});case Ze:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,editPostSuccess:!0});case $e:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,postErrorMsg:n,editPostSuccess:!1});case et:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,deletePostSuccess:!0});case tt:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,postErrorMsg:n,deletePostFail:!1});case at:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!0});case nt:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1});case rt:return Object($a.a)(Object($a.a)({},e),{},{postErrorMsg:""});case ct:return Object($a.a)(Object($a.a)({},e),{},{createPostSuccess:!1});case st:return Object($a.a)(Object($a.a)({},e),{},{editPostSuccess:!1});case ot:return Object($a.a)(Object($a.a)({},e),{},{deletePostSuccess:!1});case it:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,searchPostSuccess:!0,searchedPost:n});case ut:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,postErrorMsg:n});case lt:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,cancelSearchSuccess:!0,searchedPost:null});case dt:return Object($a.a)(Object($a.a)({},e),{},{postLoading:!1,postErrorMsg:n});default:return e}},hr=Object(rr.combineReducers)({auth:ir,form:dr,post:br}),pr=function(e,t){return"LOGOUT"===t.type&&(e=void 0),hr(e,t)},Or=Object(cr.composeWithDevTools)({trace:!0,traceLimit:25}),mr=[sr.a],fr=Object(rr.createStore)(pr,Or(rr.applyMiddleware.apply(void 0,mr))),gr={getPostDetail:bt},xr=Object(u.b)((function(e){return{post:e.post.post}}),gr)((function(e){var t=e.post,a=e.getPostDetail,r=Object(i.i)().id,c=Object(n.useState)({}),s=Object(Xt.a)(c,2),o=s[0],u=s[1];return Object(n.useEffect)((function(){a(r)}),[]),Object(n.useEffect)((function(){var e=null===t||void 0===t?void 0:t.selected_choices.map((function(e){return e.reduce((function(e,t){return Object($a.a)(Object($a.a)({},e),{},Object(Za.a)({},t.question,t))}),{})})),a=Object.assign({},e);u(a)}),[t]),Object(Re.jsx)("div",{children:Object(Re.jsx)(hn,{formType:1,initialFormFields:o,id:r})})})),vr=(a(285),{loadUser:se,getUserPost:ht,getPostList:jt,editPost:pt,postLoading:function(){return function(e){return e(Pt())}},resetEditPostSuccess:Tt}),yr=Object(u.b)((function(e){return{user:e.auth.user,userPost:e.post.userPost,posts:e.post.posts,loading:e.post.postLoading}}),vr)((function(e){var t=e.user,a=e.userPost,r=e.posts,c=(e.loadUser,e.getUserPost),s=e.getPostList,o=e.editPost,u=e.postLoading,l=e.loading,d=e.resetEditPostSuccess,j=Object(i.g)(),b=function(e){switch(e){case"Irrelevant":return 0;case"A little important":return 1;case"Somewhat important":return 10;case"Very important":return 50;case"Mandatory":return 250;default:return 0}},h=function(e,t){return e.reduce((function(e,a){return e&&t.includes(a)}),!0)&&t.reduce((function(t,a){return t&&e.includes(a)}),!0)};return Object(n.useEffect)((function(){s(1)}),[]),Object(n.useEffect)((function(){return t?c(t.id):null}),[t]),Object(n.useEffect)((function(){return a.length>0?function(){u();var e=a[0],t=e.score_list;Array.isArray(t)&&(t=t.reduce((function(e,t){return Object($a.a)(Object($a.a)({},e),{},Object(Za.a)({},t.post,t))}),{}),t=Object.assign({},t));for(var n=0;n<r.length;n++){var c=r[n],s=c.score_list;if(Array.isArray(s)&&(s=s.reduce((function(e,t){return Object($a.a)(Object($a.a)({},e),{},Object(Za.a)({},t.post,t))}),{}),s=Object.assign({},s)),c.owner.id!==e.owner.id){for(var i=0,l=0,d=0,j=0,p=0,O=0;O<c.selected_choices.length;O++)for(var m=0;m<c.selected_choices[O].length;m++)(c.selected_choices[O][m].myChoice===e.selected_choices[O][m].otherChoice||Array.isArray(c.selected_choices[O][m].myChoice)&&h(c.selected_choices[O][m].myChoice,e.selected_choices[O][m].otherChoice))&&(i+=b(e.selected_choices[O][m].priority)),l+=b(e.selected_choices[O][m].priority),(e.selected_choices[O][m].myChoice===c.selected_choices[O][m].otherChoice||Array.isArray(e.selected_choices[O][m].myChoice)&&h(e.selected_choices[O][m].myChoice,c.selected_choices[O][m].otherChoice))&&(d+=b(c.selected_choices[O][m].priority)),j+=b(c.selected_choices[O][m].priority),p++;var f=(100*Math.pow(i/l*(d/j),1/p)).toFixed(0);t=Object($a.a)(Object($a.a)({},t),{},Object(Za.a)({},c.id,{post:c.id,score:f})),s=Object($a.a)(Object($a.a)({},s),{},Object(Za.a)({},e.id,{post:e.id,score:f})),o(c.id,c.post_form_type,void 0,void 0,s,j)}}o(e.id,e.post_form_type,void 0,void 0,t,l)}():null}),[a]),Object(Re.jsx)(ln.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:20},children:l?Object(Re.jsx)(p.a,{variant:"h6",children:"Matching the perfect roommate for you..."}):Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(p.a,{gutterBottom:!0,variant:"h6",children:"Matching completed"}),Object(Re.jsx)(O.a,{autoFocus:!0,variant:"contained",color:"primary",onClick:function(){d(),j.push("/roommates")},children:"Return to roommate dashboard"})]})})})),Sr=function(){var e=Object(l.a)({palette:{primary:j.a}});return Object(Re.jsx)(u.a,{store:fr,children:Object(Re.jsx)(d.a,{theme:e,children:Object(Re.jsx)(o.a,{children:Object(Re.jsx)(nr,{children:Object(Re.jsxs)(i.d,{children:[Object(Re.jsx)($n,{path:"/login",title:"Login",component:ca,layout:Xn}),Object(Re.jsx)($n,{path:"/delete-account",title:"Delete Account",component:La,layout:Xn}),Object(Re.jsx)($n,{path:"/register",title:"Registration",component:Ea,layout:Xn}),Object(Re.jsx)($n,{path:"/change-password",title:"Change Password",component:Pa,layout:Xn}),Object(Re.jsx)($n,{path:"/reset-password",title:"Reset Password",component:Ia,layout:Xn}),Object(Re.jsx)($n,{path:"/password/reset/confirm/:uid/:token",title:"Reset Password",component:Ua,layout:Xn}),Object(Re.jsx)($n,{path:"/activate/:uid/:token",title:"Account Activation",component:De,layout:Xn}),Object(Re.jsx)($n,{path:"/resend-activation-email",title:"Resend Activation Email",component:ka,layout:Xn}),Object(Re.jsx)($n,{exact:!0,path:"/",component:We,layout:Vn}),Object(Re.jsx)($n,{exact:!0,path:"/dashboard",component:Me,layout:Vn}),Object(Re.jsx)($n,{path:"/housings",component:Kt,layout:Vn}),Object(Re.jsx)($n,{exact:!0,path:"/roommates",component:yn,layout:Vn}),Object(Re.jsx)($n,{path:"/roommates/:id",component:Xa,layout:Vn}),Object(Re.jsx)($n,{path:"/roommate-form",component:pn,layout:Vn}),Object(Re.jsx)($n,{path:"/edit-profile",component:On,layout:Vn}),Object(Re.jsx)($n,{path:"/housing-form",component:mn,layout:Vn}),Object(Re.jsx)($n,{path:"/edit-form/:id",component:xr,layout:Vn}),Object(Re.jsx)($n,{path:"/profile",component:Ca,layout:Vn}),Object(Re.jsx)($n,{path:"/matchmaking",component:yr,layout:Vn}),Object(Re.jsx)($n,{path:"*",component:We,layout:Vn})]})})})})})};s.a.render(Object(Re.jsx)(r.a.StrictMode,{children:Object(Re.jsx)(Sr,{})}),document.getElementById("root"))}},[[286,1,2]]]);
//# sourceMappingURL=main.bcc46e7d.chunk.js.map